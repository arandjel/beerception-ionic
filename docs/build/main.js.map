{"version":3,"sources":["../../src/providers/upload-file/upload-file.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/providers/beer/beer.ts","../../src/pages/rules-modal/rules-modal.ts","../../src/pages/add-beerception-modal/add-beerception-modal.ts","../../src/pages/signup/signup.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/shared/utilities/serialize.ts","../../src/shared/utilities/loose-invalid.ts","../../src/components/progress-bar/progress-bar.ts","../../src/providers/user/user.ts","../../src/providers/config/config.ts","../../src/pages/home/home.ts","../../src/providers/api/api.ts","../../src/pages/login/login.ts","../../src/providers/auth/auth.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpResponse, HttpRequest } from '@angular/common/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/observable/throw';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/filter';\r\nimport 'rxjs/add/operator/map';\r\nimport { ConfigProvider } from '../config/config';\r\nimport { CookieService } from 'ngx-cookie-service';\r\n\r\n@Injectable()\r\nexport class UploadFileProvider {\r\n\r\n  constructor(\r\n    private config: ConfigProvider,\r\n    private http: HttpClient,\r\n    private cookieService: CookieService\r\n  ) { }\r\n\r\n  addBeerception(file: File) {\r\n    let formdata: FormData = new FormData();\r\n\r\n    formdata.append('beerFile', file);\r\n\r\n    let headers = new HttpHeaders({\r\n      'Accept': 'application/json',\r\n      'X-XSRF-TOKEN': this.getXsrfToken()\r\n    });\r\n\r\n    const req = new HttpRequest('POST', this.config.beerception_url, formdata, {\r\n      headers: headers,\r\n      withCredentials: true,\r\n      reportProgress: true,\r\n      responseType: 'text'\r\n    });\r\n\r\n    return this.http.request(req)\r\n      .catch(error => {\r\n        if (error && error.status === 401) {\r\n          // this.redirectIfUnauth(error);\r\n        } else {\r\n          // this.displayError(error);\r\n        }\r\n        throw error;\r\n      });\r\n  }\r\n\r\n  getBeerception() : Observable<any>{\r\n    let headers = new HttpHeaders({\r\n      'Accept': 'image/jpeg',\r\n      'Content-Type': 'image/jpeg'\r\n    });\r\n    \r\n    const req = new HttpRequest('GET', this.config.beerception_url, {}, {\r\n      headers: headers,\r\n      withCredentials: true,\r\n      responseType: 'text'\r\n    });\r\n\r\n    return this.http.request(req)\r\n      .filter(response => response instanceof HttpResponse)\r\n      .map((response: HttpResponse<any>) => response.body)\r\n      .catch(error => {\r\n          if (error && error.status === 401) {\r\n            // this.redirectIfUnauth(error);\r\n          } else {\r\n            // this.displayError(error);\r\n          }\r\n          throw error;\r\n        });\r\n  }\r\n\r\n  private getXsrfToken() {\r\n    return this.cookieService.get(\"XSRF-TOKEN\");\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/upload-file/upload-file.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 122;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 122\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 163;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 163\n// module chunks = 0","import { Injectable } from '@angular/core';\r\nimport { ConfigProvider } from '../config/config';\r\nimport { ApiProvider } from '../api/api';\r\n\r\n@Injectable()\r\nexport class BeerProvider {\r\n\r\n  constructor(\r\n    private apiService: ApiProvider,\r\n    private config: ConfigProvider\r\n  ) { }\r\n\r\n  getBeerceptionInfo() {\r\n    console.log(\"getting beerception info: \" + this.config.beerception_info_url);\r\n    return this.apiService.get(this.config.beerception_info_url);\r\n  }\r\n\r\n  beerUp(body: any) {\r\n    return this.apiService.post(this.config.beerception_url + '/beerup', {});\r\n  }\r\n\r\n  beerDown(body: any) {\r\n    return this.apiService.post(this.config.beerception_url + '/beerdown', {});\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/beer/beer.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ViewController } from 'ionic-angular';\r\n\r\n\r\n@Component({\r\n  selector: 'page-rules-modal',\r\n  templateUrl: 'rules-modal.html',\r\n})\r\nexport class RulesModalPage {\r\n\r\n  rules = [\r\n    'Same user cannot take two photos in the row.',\r\n    'Only the latest photo can be beerup-ed or beerdown-ed.',\r\n    'If photo has -10 score, photo gets deleted from server. Previous photo takes it place.',\r\n    'It is up to users to keep up the good beerception practice.'\r\n  ];\r\n\r\n  constructor(\r\n    public viewCtrl: ViewController,\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad RulesModalPage');\r\n  }\r\n\r\n  closeModal() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/rules-modal/rules-modal.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ViewController, ToastController, Platform } from 'ionic-angular';\r\nimport { HttpResponse, HttpEventType, HttpEvent } from '@angular/common/http';\r\nimport { UploadFileProvider } from '../../providers/upload-file/upload-file';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\n\r\n\r\n@Component({\r\n  selector: 'page-add-beerception-modal',\r\n  templateUrl: 'add-beerception-modal.html',\r\n})\r\nexport class AddBeerceptionModalPage {\r\n\r\n  rules = [\r\n    'Same user cannot take two photos in the row.',\r\n    'Only the latest photo can be beerup-ed or beerdown-ed.',\r\n    'If photo has -10 score, photo gets deleted from server. Previous photo takes it place.',\r\n    'It is up to users to keep up the good beerception practice.'\r\n  ];\r\n\r\n  selectedFiles: FileList\r\n  currentFileUpload: File\r\n  progress: { percentage: number } = { percentage: 0 }\r\n\r\n  fileUploading: boolean;\r\n\r\n  errorMessage: string;\r\n\r\n  constructor(\r\n    public viewCtrl: ViewController,\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    private toastCtrl: ToastController,\r\n    private camera: Camera,\r\n    private uploadFileProvider: UploadFileProvider,\r\n    private platform: Platform) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad AddBeerceptionModalPage');\r\n  }\r\n\r\n  selectFile(event) {\r\n    const file = event.target.files.item(0);\r\n\r\n    if (!file)\r\n      return;\r\n\r\n    if (file.type.match('image.*')) {\r\n      this.selectedFiles = event.target.files;\r\n    } else {\r\n      this.presentToast('Invalid image format!');\r\n    }\r\n  }\r\n\r\n  upload() {\r\n    this.progress.percentage = 0;\r\n\r\n    this.currentFileUpload = this.selectedFiles.item(0);\r\n\r\n    this.uploadFileProvider.addBeerception(this.currentFileUpload)\r\n      .subscribe(\r\n        (event: HttpEvent<any>) => {\r\n          if (event.type === HttpEventType.UploadProgress) {\r\n            this.progress.percentage = Math.round(100 * event.loaded / event.total);\r\n          } else if (event instanceof HttpResponse) {\r\n            console.log('File is completely uploaded!');\r\n\r\n            this.presentToast(\"Photo has been uploaded with success!\");\r\n            this.closeModal();\r\n          }\r\n        },\r\n        error => {\r\n          let errorJson = JSON.parse(error['error']);\r\n          this.errorMessage = errorJson['errorMessage'];\r\n\r\n          this.presentToast(this.errorMessage);\r\n        }\r\n      );\r\n\r\n    this.selectedFiles = undefined;\r\n  }\r\n\r\n  takePicture() {\r\n    const options: CameraOptions = {\r\n      quality: 100,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      mediaType: this.camera.MediaType.PICTURE\r\n    }\r\n    \r\n    this.camera.getPicture(options).then((imageData) => {\r\n     // imageData is either a base64 encoded string or a file URI\r\n     // If it's base64:\r\n     let base64Image = 'data:image/jpeg;base64,' + imageData;\r\n    }, (err) => {\r\n     // Handle error\r\n    });\r\n  }\r\n\r\n  closeModal() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n\r\n  presentToast(message: string) {\r\n    let toast = this.toastCtrl.create({\r\n      message: message,\r\n      duration: 10000,\r\n      position: 'top',\r\n      showCloseButton: true\r\n    });\r\n  \r\n    toast.onDidDismiss(() => {\r\n      console.log('Dismissed toast');\r\n    });\r\n  \r\n    toast.present();\r\n  }\r\n\r\n  isBrowserDevice() {\r\n    return this.platform.is('core') || this.platform.is('mobileweb');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-beerception-modal/add-beerception-modal.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { UserProvider } from '../../providers/user/user';\r\nimport { DisplayMessage } from '../../shared/models/display-message';\r\nimport { AuthProvider } from '../../providers/auth/auth';\r\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\r\nimport { HomePage } from '../home/home';\r\nimport { LoginPage } from '../login/login';\r\n\r\n\r\n@Component({\r\n  selector: 'page-signup',\r\n  templateUrl: 'signup.html',\r\n})\r\nexport class SignupPage {\r\n\r\n  title = 'Sign up';\r\n  formGroup: FormGroup;\r\n\r\n  /**\r\n   * Boolean used in telling the UI\r\n   * that the form has been submitted\r\n   * and is awaiting a response\r\n   */\r\n  submitted = false;\r\n\r\n  /**\r\n   * Notification message from received\r\n   * form request or router\r\n   */\r\n  notification: DisplayMessage;\r\n  invalidData = false;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    private userProvider: UserProvider,\r\n    private authProvider: AuthProvider,\r\n    private formBuilder: FormBuilder) {\r\n\r\n    this.formGroup = this.formBuilder.group({\r\n      username: ['', Validators.compose([Validators.email, Validators.required])],\r\n      password: ['', Validators.compose([Validators.required, Validators.minLength(5)])],\r\n      firstname: ['', Validators.compose([Validators.required])],\r\n      lastname: ['', Validators.compose([Validators.required])]\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad SignupPage');\r\n  }\r\n\r\n  ionViewCanEnter() {\r\n    return !this.userProvider.isLoggedIn();\r\n  }\r\n\r\n  toLogin() {\r\n    this.navCtrl.push(LoginPage);\r\n  }\r\n\r\n  onSubmit() {\r\n    this.invalidData = false;\r\n    /**\r\n     * Deny submit if validation errors exist\r\n     */\r\n    if (!this.validate())\r\n      return;\r\n\r\n    /**\r\n     * Innocent until proven guilty\r\n     */\r\n    this.notification = undefined;\r\n    this.submitted = true;\r\n\r\n    this.authProvider.signup(this.formGroup.value)\r\n    // show me the animation\r\n    .delay(1000)\r\n    .subscribe(data => {\r\n      console.log(data);\r\n      this.authProvider.login(this.formGroup.value).subscribe(loginData => {\r\n        this.userProvider.getMyInfo().subscribe();\r\n      });\r\n      this.navCtrl.setRoot(HomePage);\r\n      this.navCtrl.popToRoot();\r\n    },\r\n    error => {\r\n      console.log(\"error with signup: \" + error);\r\n      this.submitted = false;\r\n      this.invalidData = true;\r\n      this.notification = { msgType: 'error', msgBody: error['error'].errorMessage };\r\n    });\r\n\r\n  }\r\n\r\n  validate(): boolean {\r\n    if (this.formGroup.get('username').touched && this.formGroup.get('username').invalid)\r\n      return false;\r\n    if (this.formGroup.get('password').touched && this.formGroup.get('password').invalid)\r\n      return false;\r\n    if (this.formGroup.get('firstname').touched && this.formGroup.get('firstname').invalid)\r\n      return false;\r\n    if (this.formGroup.get('lastname').touched && this.formGroup.get('lastname').invalid)\r\n      return false;\r\n\r\n    return true;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { ErrorHandler, NgModule, APP_INITIALIZER } from '@angular/core';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { CookieService } from 'ngx-cookie-service';\r\n\r\nimport { MyApp } from './app.component';\r\nimport { HomePage } from '../pages/home/home';\r\n\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { BeerProvider } from '../providers/beer/beer';\r\nimport { ConfigProvider } from '../providers/config/config';\r\nimport { ApiProvider } from '../providers/api/api';\r\nimport { AuthProvider } from '../providers/auth/auth';\r\nimport { UserProvider } from '../providers/user/user';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { RulesModalPage } from '../pages/rules-modal/rules-modal';\r\nimport { UploadFileProvider } from '../providers/upload-file/upload-file';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { SignupPage } from '../pages/signup/signup';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { AddBeerceptionModalPage } from '../pages/add-beerception-modal/add-beerception-modal';\r\nimport { ProgressBarComponent } from '../components/progress-bar/progress-bar';\r\n\r\nexport function initUserFactory(userProvider: UserProvider) {\r\n  console.log(\"initUserFactory\");\r\n  return () => userProvider.initUser();\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    HomePage,\r\n    LoginPage,\r\n    SignupPage,\r\n    RulesModalPage,\r\n    AddBeerceptionModalPage,\r\n    ProgressBarComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    IonicModule.forRoot(MyApp),\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    HomePage,\r\n    LoginPage,\r\n    SignupPage,\r\n    RulesModalPage,\r\n    AddBeerceptionModalPage\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    Camera,\r\n    CookieService,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    ConfigProvider,\r\n    ApiProvider,\r\n    AuthProvider,\r\n    UserProvider,\r\n    BeerProvider,\r\n    {\r\n      'provide': APP_INITIALIZER,\r\n      'useFactory': initUserFactory,\r\n      'deps': [UserProvider],\r\n      'multi': true\r\n    },\r\n    UploadFileProvider\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { Nav, Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { HomePage } from '../pages/home/home';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { AuthProvider } from '../providers/auth/auth';\r\nimport { UserProvider } from '../providers/user/user';\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  rootPage: any = HomePage;\r\n\r\n  pages: Array<{title: string, component: any}>;\r\n  loginPage = { title: 'Login', component: LoginPage };\r\n\r\n  constructor(\r\n    public platform: Platform, \r\n    public statusBar: StatusBar, \r\n    public splashScreen: SplashScreen,\r\n    private authProvider: AuthProvider,\r\n    private userProvider: UserProvider\r\n  ) {\r\n    this.initializeApp();\r\n\r\n    // used for an example of ngFor and navigation\r\n    this.pages = [\r\n      { title: 'Beerception', component: HomePage }\r\n    ];\r\n\r\n  }\r\n\r\n  initializeApp() {\r\n    this.platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      this.statusBar.styleDefault();\r\n      this.splashScreen.hide();\r\n    });\r\n  }\r\n\r\n  openPage(page) {\r\n    // Reset the content nav to have just this page\r\n    // we wouldn't want the back button to show in this scenario\r\n    this.nav.setRoot(page.component);\r\n  }\r\n\r\n  logout() {\r\n    this.authProvider.logout().subscribe(res => {\r\n      this.userProvider.getMyInfo().subscribe();\r\n      this.nav.setRoot(HomePage);\r\n      this.nav.popToRoot();\r\n    });\r\n  }\r\n\r\n  isLoggedIn() {\r\n    return this.userProvider.isLoggedIn();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { HttpParams } from '@angular/common/http';\r\nimport { looseInvalid } from './loose-invalid';\r\n\r\nexport function serialize(obj: any): HttpParams {\r\n  let params = new HttpParams();\r\n\r\n  for (const key in obj) {\r\n    if (obj.hasOwnProperty(key) && !looseInvalid(obj[key])) {\r\n      params = params.set(key, obj[key]);\r\n    }\r\n  }\r\n\r\n  return params;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/utilities/serialize.ts","export function looseInvalid(a: string|number): boolean {\r\n  return a === '' || a === null || a === undefined;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/utilities/loose-invalid.ts","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'progress-bar',\r\n  templateUrl: 'progress-bar.html'\r\n})\r\nexport class ProgressBarComponent {\r\n\r\n  @Input('progress') progress;\r\n\r\n  constructor() {\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-bar/progress-bar.ts","import { Injectable } from '@angular/core';\r\nimport { ApiProvider } from '../api/api';\r\nimport { ConfigProvider } from '../config/config';\r\n\r\n\r\n@Injectable()\r\nexport class UserProvider {\r\n\r\n  currentUser;\r\n\r\n  constructor(\r\n    private apiService: ApiProvider,\r\n    private config: ConfigProvider\r\n  ) { }\r\n\r\n  initUser() {\r\n    const promise = this.apiService.get(this.config.refresh_token_url).toPromise()\r\n    .then(res => {\r\n      if (res.access_token !== null) {\r\n        return this.getMyInfo().toPromise()\r\n        .then(user => {\r\n          this.currentUser = user;\r\n        });\r\n      }\r\n    })\r\n    .catch(() => null);\r\n    return promise;\r\n  }\r\n\r\n  resetCredentials() {\r\n    return this.apiService.get(this.config.reset_credentials_url);\r\n  }\r\n\r\n  getMyInfo() {\r\n    return this.apiService.get(this.config.whoami_url).map(user => this.currentUser = user);\r\n  }\r\n\r\n  getAll() {\r\n    return this.apiService.get(this.config.users_url);\r\n  }\r\n\r\n  isLoggedIn() {\r\n    if (this.currentUser) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.ts","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class ConfigProvider {\r\n\r\n  //private _host_url = 'http://localhost:8080';\r\n\r\n  //private _host_url = 'http://192.168.0.16:8080';\r\n\r\n  private _host_url = 'https://beerception.herokuapp.com';\r\n\r\n  private _api_url = this._host_url + '/api/v1';\r\n\r\n  private _refresh_token_url = this._api_url + '/auth/refresh';\r\n\r\n  private _login_url = this._api_url + '/auth/login';\r\n\r\n  private _logout_url = this._api_url + '/auth/logout';\r\n\r\n  private _signup_url = this._api_url + '/auth/signup';\r\n\r\n  private _change_password_url = this._api_url + '/auth/changePassword';\r\n\r\n  private _whoami_url = this._api_url + '/auth/whoami';\r\n\r\n  private _user_url = this._api_url + '/auth/user';\r\n\r\n  private _reset_credentials_url = this._user_url + '/reset-credentials';\r\n\r\n  private _users_url = this._user_url + '/auth/all';\r\n\r\n  private _beerception_url = this._api_url + '/beerception';\r\n\r\n  private _beerception_info_url = this._beerception_url + '/info';\r\n\r\n  get reset_credentials_url(): string {\r\n      return this._reset_credentials_url;\r\n  }\r\n\r\n  get refresh_token_url(): string {\r\n      return this._refresh_token_url;\r\n  }\r\n\r\n  get whoami_url(): string {\r\n      return this._whoami_url;\r\n  }\r\n\r\n  get users_url(): string {\r\n      return this._users_url;\r\n  }\r\n\r\n  get login_url(): string {\r\n      return this._login_url;\r\n  }\r\n\r\n  get logout_url(): string {\r\n      return this._logout_url;\r\n  }\r\n\r\n  get change_password_url(): string {\r\n      return this._change_password_url;\r\n  }\r\n\r\n  get signup_url(): string {\r\n      return this._signup_url;\r\n  }\r\n\r\n  get beerception_url(): string {\r\n      return this._beerception_url;\r\n  }\r\n\r\n  get beerception_info_url(): string {\r\n      return this._beerception_info_url;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/config/config.ts","import { Component } from '@angular/core';\r\nimport { ModalController, NavController, AlertController } from 'ionic-angular';\r\nimport { Beerception } from '../../shared/models/beerception';\r\nimport { BeerProvider } from '../../providers/beer/beer';\r\nimport { RulesModalPage } from '../rules-modal/rules-modal';\r\nimport { UploadFileProvider } from '../../providers/upload-file/upload-file';\r\nimport { AddBeerceptionModalPage } from '../add-beerception-modal/add-beerception-modal';\r\nimport { UserProvider } from '../../providers/user/user';\r\nimport { LoginPage } from '../login/login';\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n\r\n  beerFileInfo: Beerception;\r\n\r\n  imageData: any;\r\n  url: any;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public modalCtrl: ModalController,\r\n    private alertCtrl: AlertController,\r\n    private fileProvider: UploadFileProvider,\r\n    private beerProvider: BeerProvider,\r\n    private userProvider: UserProvider\r\n  ) { }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad AddBeerceptionModalPage');\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.getBeerception();\r\n    this.getBeerceptionInfo();\r\n  }\r\n\r\n  getBeerception() {\r\n    console.log(\"getting beerception\");\r\n\r\n    this.fileProvider.getBeerception().subscribe(\r\n      data => {\r\n        this.imageData = 'data:image/png;base64,' + data;\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getBeerceptionInfo() {\r\n    console.log(\"getting beerception info\");\r\n\r\n    this.beerProvider.getBeerceptionInfo().subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this.beerFileInfo = res;\r\n        if (res['beerDate'])\r\n          this.beerFileInfo.beerDate = new Date(res['beerDate']);\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  beerUp() {\r\n    if(!this.isLoggedIn())\r\n      return;\r\n\r\n    this.beerProvider.beerUp({}).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this.beerFileInfo = res;\r\n        if (res['beerDate'])\r\n          this.beerFileInfo.beerDate = new Date(res['beerDate']);\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  beerDown() {\r\n    if(!this.isLoggedIn())\r\n      return;\r\n\r\n    this.beerProvider.beerDown({}).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this.beerFileInfo = res;\r\n        if (res['beerDate'])\r\n          this.beerFileInfo.beerDate = new Date(res['beerDate']);\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  openRulesModal() {\r\n    let rulesModal = this.modalCtrl.create(RulesModalPage);\r\n    rulesModal.present();\r\n  }\r\n\r\n  openAddBeerceptionModal() {\r\n    if(!this.isLoggedIn())\r\n      return;\r\n\r\n    let rulesModal = this.modalCtrl.create(AddBeerceptionModalPage);\r\n    rulesModal.present();\r\n    rulesModal.onDidDismiss(() => {\r\n      this.getBeerception();\r\n      this.getBeerceptionInfo();\r\n    });\r\n  }\r\n\r\n  isLoggedIn() {\r\n    if(this.userProvider.isLoggedIn()) {\r\n      return true;\r\n    }\r\n    else {\r\n      let alert = this.alertCtrl.create({\r\n        title: 'Not logged in',\r\n        subTitle: 'Please login in order to do this action.',\r\n        buttons: [\r\n          'Dismiss',\r\n          {\r\n            text: 'Login',\r\n            role: 'login',\r\n            handler: () => {\r\n              this.navCtrl.push(LoginPage);\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n\r\n      return false;\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpResponse, HttpRequest } from '@angular/common/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/observable/throw';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/filter';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { serialize } from '../../shared/utilities/serialize';\r\nimport { CookieService } from 'ngx-cookie-service';\r\n\r\nexport enum RequestMethod {\r\n  Get = 'GET',\r\n  Head = 'HEAD',\r\n  Post = 'POST',\r\n  Put = 'PUT',\r\n  Delete = 'DELETE',\r\n  Options = 'OPTIONS',\r\n  Patch = 'PATCH'\r\n}\r\n\r\n@Injectable()\r\nexport class ApiProvider {\r\n\r\n  headers = new HttpHeaders({\r\n    'Accept': 'application/json',\r\n    'Content-Type': 'application/json'\r\n  });\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private cookieService: CookieService\r\n  ) {}\r\n\r\n  get(path: string, args?: any): Observable<any> {\r\n    const options = {\r\n      headers: this.headers,\r\n      withCredentials: true\r\n    };\r\n\r\n    if (args) {\r\n      options['params'] = serialize(args);\r\n    }\r\n\r\n    return this.http.get(path, options)\r\n      .catch(this.checkError.bind(this));\r\n  }\r\n\r\n  post(path: string, body: any, customHeaders?: HttpHeaders): Observable<any> {\r\n    let _customHeaders: HttpHeaders;\r\n\r\n    if (!customHeaders) {\r\n      _customHeaders = this.headers.append('X-XSRF-TOKEN', this.getXsrfToken());\r\n    } else if (customHeaders && !customHeaders.get('X-XSRF-TOKEN')) {\r\n      _customHeaders = customHeaders.append('X-XSRF-TOKEN', this.getXsrfToken());\r\n    }\r\n\r\n    return this.request(path, body, RequestMethod.Post, _customHeaders);\r\n  }\r\n\r\n  put(path: string, body: any): Observable<any> {\r\n    let _customHeaders: HttpHeaders;\r\n    _customHeaders = this.headers.append('X-XSRF-TOKEN', this.getXsrfToken());\r\n\r\n    return this.request(path, body, RequestMethod.Put, _customHeaders);\r\n  }\r\n\r\n  delete(path: string, body?: any): Observable<any> {\r\n    let _customHeaders: HttpHeaders;\r\n    _customHeaders = this.headers.append('X-XSRF-TOKEN', this.getXsrfToken());\r\n\r\n    return this.request(path, body, RequestMethod.Delete, _customHeaders);\r\n  }\r\n\r\n  private request(path: string, body: any, method = RequestMethod.Post, customHeaders?: HttpHeaders): Observable<any> {\r\n    const req = new HttpRequest(method, path, body, {\r\n      headers: customHeaders || this.headers,\r\n      withCredentials: true\r\n    });\r\n\r\n    return this.http.request(req)\r\n      .filter(response => response instanceof HttpResponse)\r\n      .map((response: HttpResponse<any>) => response.body)\r\n      .catch(error => this.checkError(error));\r\n  }\r\n\r\n  // Display error if logged in, otherwise redirect to IDP\r\n  private checkError(error: any): any {\r\n    if (error && error.status === 401) {\r\n      // this.redirectIfUnauth(error);\r\n    } else {\r\n      // this.displayError(error);\r\n    }\r\n    throw error;\r\n  }\r\n\r\n  private getXsrfToken() {\r\n    // \"XSRF-TOKEN\"\r\n    /*\r\n    const token: string = this.xsrf.getToken();\r\n\r\n    if (token)\r\n      return this.xsrf.getToken();\r\n\r\n    return null;\r\n    */\r\n    return this.cookieService.get(\"XSRF-TOKEN\");\r\n  }\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/api/api.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { UserProvider } from '../../providers/user/user';\r\nimport { AuthProvider } from '../../providers/auth/auth';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { DisplayMessage } from '../../shared/models/display-message';\r\nimport 'rxjs/add/operator/delay';\r\nimport { HomePage } from '../home/home';\r\nimport { SignupPage } from '../signup/signup';\r\n\r\n\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginPage {\r\n\r\n  title = 'Login';\r\n  formGroup: FormGroup;\r\n\r\n  /**\r\n   * Boolean used in telling the UI\r\n   * that the form has been submitted\r\n   * and is awaiting a response\r\n   */\r\n  submitted = false;\r\n\r\n  /**\r\n   * Notification message from received\r\n   * form request or router\r\n   */\r\n  notification: DisplayMessage;\r\n  invalidData = false;\r\n  formValid = true;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    private userProvider: UserProvider,\r\n    private authProvider: AuthProvider,\r\n    private formBuilder: FormBuilder) {\r\n\r\n      this.formGroup = this.formBuilder.group({\r\n        username: ['', Validators.compose([Validators.email, Validators.required, Validators.nullValidator])],\r\n        password: ['', Validators.compose([Validators.required, Validators.nullValidator])]\r\n      });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad LoginPage');\r\n  }\r\n\r\n  ionViewCanEnter() {\r\n    return !this.userProvider.isLoggedIn();\r\n  }\r\n\r\n  toSignup() {\r\n    this.navCtrl.push(SignupPage);\r\n  }\r\n\r\n  onSubmit() {\r\n    this.invalidData = false;\r\n    this.formValid = true;\r\n    /**\r\n     * Deny submit if username or password contain validation errors\r\n     */\r\n    if (!this.validate()) {\r\n      this.formValid = false;\r\n      return;\r\n    }\r\n    /**\r\n     * Innocent until proven guilty\r\n     */\r\n    this.notification = undefined;\r\n    this.submitted = true;\r\n\r\n    this.authProvider.login(this.formGroup.value)\r\n    // show me the animation\r\n    .delay(1000)\r\n    .subscribe(data => {\r\n      console.log(\"logging in\");\r\n      this.userProvider.getMyInfo().subscribe();\r\n      this.navCtrl.setRoot(HomePage);\r\n      this.navCtrl.popToRoot();\r\n    },\r\n    error => {\r\n      console.log(\"error with login: \" + error);\r\n      this.submitted = false;\r\n      this.invalidData = true;\r\n      this.notification = { msgType: 'error', msgBody: error.error['message'] };\r\n    });\r\n\r\n  }\r\n\r\n  validate(): boolean {\r\n    if (this.formGroup.get('username').invalid)\r\n      return false;\r\n    if (this.formGroup.get('password').invalid)\r\n      return false;\r\n\r\n    return true;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { ApiProvider } from '../api/api';\r\nimport { UserProvider } from '../user/user';\r\nimport { ConfigProvider } from '../config/config';\r\n\r\n\r\n@Injectable()\r\nexport class AuthProvider {\r\n\r\n  constructor(\r\n    private apiService: ApiProvider,\r\n    private userService: UserProvider,\r\n    private config: ConfigProvider\r\n  ) { }\r\n\r\n  login(user) {\r\n    const loginHeaders = new HttpHeaders({\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/x-www-form-urlencoded'\r\n    });\r\n\r\n    const body = `email=${user.username}&password=${user.password}`;\r\n\r\n    return this.apiService.post(this.config.login_url, body, loginHeaders).map(() => {\r\n      console.log(\"Login success\");\r\n      this.userService.getMyInfo().subscribe();\r\n    });\r\n  }\r\n\r\n  signup(user) {\r\n    const signupHeaders = new HttpHeaders({\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    });\r\n\r\n    const body = {\r\n      \"email\": user['username'],\r\n      \"password\": user['password'],\r\n      \"name\": user['firstname'],\r\n      \"lastName\": user['lastname']\r\n    };\r\n    return this.apiService.post(this.config.signup_url, body, signupHeaders).map(() => {\r\n      console.log(\"Sign up success\");\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    const logoutHeaders = new HttpHeaders({\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    });\r\n    return this.apiService.post(this.config.logout_url, {}, logoutHeaders)\r\n      .map(() => {\r\n        console.log(\"Logout success\");\r\n        this.userService.currentUser = null;\r\n      });\r\n  }\r\n\r\n  changePassword(passwordChanger) {\r\n    return this.apiService.post(this.config.change_password_url, passwordChanger);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.ts"],"sourceRoot":""}